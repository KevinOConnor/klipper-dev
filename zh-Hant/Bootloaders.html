
<!doctype html>
<html lang="zh-Hant" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      <link rel="icon" href="img/favicon.ico">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-8.1.3">
    
    
      
        <title>底層載入程式 - Klipper 文檔</title>
      
    
    
      <link rel="stylesheet" href="assets/stylesheets/main.edf004c2.min.css">
      
        
        <link rel="stylesheet" href="assets/stylesheets/palette.e6a45f82.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="_klipper3d/css/extra.css">
    
    <script>__md_scope=new URL(".",location),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-138371409-1","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})})</script>
  <script async src="https://www.google-analytics.com/analytics.js"></script>


    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="blue">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          跳轉至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="." title="Klipper 文檔" class="md-header__button md-logo" aria-label="Klipper 文檔" data-md-component="logo">
      
  <img src="img/klipper.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Klipper 文檔
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              底層載入程式
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="white" data-md-color-accent="blue"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9v1z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="grey" data-md-color-accent="light-blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5z"/></svg>
            </label>
          
        
      </form>
    
    
      <div class="md-header__option">
        <div class="md-select">
          
          <button class="md-header__button md-icon" aria-label="Select language">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2m-5.15 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 0 1-4.33 3.56M14.34 14H9.66c-.1-.66-.16-1.32-.16-2 0-.68.06-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2M12 19.96c-.83-1.2-1.5-2.53-1.91-3.96h3.82c-.41 1.43-1.08 2.76-1.91 3.96M8 8H5.08A7.923 7.923 0 0 1 9.4 4.44C8.8 5.55 8.35 6.75 8 8m-2.92 8H8c.35 1.25.8 2.45 1.4 3.56A8.008 8.008 0 0 1 5.08 16m-.82-2C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2M12 4.03c.83 1.2 1.5 2.54 1.91 3.97h-3.82c.41-1.43 1.08-2.77 1.91-3.97M18.92 8h-2.95a15.65 15.65 0 0 0-1.38-3.56c1.84.63 3.37 1.9 4.33 3.56M12 2C6.47 2 2 6.5 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2z"/></svg>
          </button>
          <div class="md-select__inner">
            <ul class="md-select__list">
              
                <li class="md-select__item">
                  <a href="/" hreflang="en" class="md-select__link">
                    English
                  </a>
                </li>
                
                <li class="md-select__item">
                  <a href="/zh/" hreflang="zh" class="md-select__link">
                    简体中文
                  </a>
                </li>
                
                <li class="md-select__item">
                  <a href="/zh-Hant/" hreflang="zh-Hant" class="md-select__link">
                    繁體中文
                  </a>
                </li>
                
                <li class="md-select__item">
                  <a href="/hu/" hreflang="hu" class="md-select__link">
                    Magyar
                  </a>
                </li>
                
                <li class="md-select__item">
                  <a href="/it/" hreflang="it" class="md-select__link">
                    Italiano
                  </a>
                </li>
                
                <li class="md-select__item">
                  <a href="/fr/" hreflang="fr" class="md-select__link">
                    Français
                  </a>
                </li>
                
            </ul>
          </div>
        </div>
      </div>
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜尋" placeholder="搜尋" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜尋引擎
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/Klipper3d/klipper/" title="前往倉庫" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    Klipper3d/klipper
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="." title="Klipper 文檔" class="md-nav__button md-logo" aria-label="Klipper 文檔" data-md-component="logo">
      
  <img src="img/klipper.svg" alt="logo">

    </a>
    Klipper 文檔
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Klipper3d/klipper/" title="前往倉庫" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    Klipper3d/klipper
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="Overview.html" class="md-nav__link">
        概述
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="Features.html" class="md-nav__link">
        功能
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="FAQ.html" class="md-nav__link">
        常見問題
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="Releases.html" class="md-nav__link">
        版本發佈
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="Config_Changes.html" class="md-nav__link">
        配置變更
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="Contact.html" class="md-nav__link">
        聯繫方式
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          安裝和配置
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="安裝和配置" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          安裝和配置
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Installation.html" class="md-nav__link">
        安裝
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_2" type="checkbox" id="__nav_7_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7_2">
          配置參考
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="配置參考" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_2">
          <span class="md-nav__icon md-icon"></span>
          配置參考
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Config_Reference.html" class="md-nav__link">
        配置參考
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Rotation_Distance.html" class="md-nav__link">
        旋轉距離
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Config_checks.html" class="md-nav__link">
        配置檢查
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_4" type="checkbox" id="__nav_7_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7_4">
          印床水平
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="印床水平" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_4">
          <span class="md-nav__icon md-icon"></span>
          印床水平
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Bed_Level.html" class="md-nav__link">
        列印床調平
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Delta_Calibrate.html" class="md-nav__link">
        三角校正
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Probe_Calibrate.html" class="md-nav__link">
        探針校準
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="BLTouch.html" class="md-nav__link">
        BL-Touch
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Manual_Level.html" class="md-nav__link">
        手動調平
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Bed_Mesh.html" class="md-nav__link">
        床網
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Endstop_Phase.html" class="md-nav__link">
        限位相位
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_5" type="checkbox" id="__nav_7_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7_5">
          共振補償
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="共振補償" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_5">
          <span class="md-nav__icon md-icon"></span>
          共振補償
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Resonance_Compensation.html" class="md-nav__link">
        共振補償
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Measuring_Resonances.html" class="md-nav__link">
        共振值測量
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Pressure_Advance.html" class="md-nav__link">
        Pressure advance
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="G-Codes.html" class="md-nav__link">
        G-Codes
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_8" type="checkbox" id="__nav_7_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7_8">
          命令模板
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="命令模板" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_8">
          <span class="md-nav__icon md-icon"></span>
          命令模板
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Command_Templates.html" class="md-nav__link">
        命令模板
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Status_Reference.html" class="md-nav__link">
        狀態參考
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="TMC_Drivers.html" class="md-nav__link">
        TMC 驅動器
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Multi_MCU_Homing.html" class="md-nav__link">
        複數微控制器歸零與探高
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Slicers.html" class="md-nav__link">
        切片軟體
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Skew_Correction.html" class="md-nav__link">
        偏斜校正
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Exclude_Object.html" class="md-nav__link">
        Exclude Objects
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Using_PWM_Tools.html" class="md-nav__link">
        使用 PWM 工具
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          開發者文檔
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="開發者文檔" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          開發者文檔
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Code_Overview.html" class="md-nav__link">
        程式碼總覽
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Kinematics.html" class="md-nav__link">
        運動學
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Protocol.html" class="md-nav__link">
        協議
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="API_Server.html" class="md-nav__link">
        API 伺服器
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="MCU_Commands.html" class="md-nav__link">
        MCU命令
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="CANBUS_protocol.html" class="md-nav__link">
        CANBUS 協議
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Debugging.html" class="md-nav__link">
        除錯
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Benchmarks.html" class="md-nav__link">
        基準測試
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="CONTRIBUTING.html" class="md-nav__link">
        為 Klipper 做貢獻
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Packaging.html" class="md-nav__link">
        打包 Klipper
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_9">
          設備特定文件
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="設備特定文件" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          設備特定文件
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Example_Configs.html" class="md-nav__link">
        配置示例
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="SDCard_Updates.html" class="md-nav__link">
        通過SD卡更新
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="RPi_microcontroller.html" class="md-nav__link">
        RPi 微控制器
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Beaglebone.html" class="md-nav__link">
        Beaglebone
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          底層載入程式
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="Bootloaders.html" class="md-nav__link md-nav__link--active">
        底層載入程式
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目錄">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目錄
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#avr" class="md-nav__link">
    AVR 微控制器
  </a>
  
    <nav class="md-nav" aria-label="AVR 微控制器">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#atmega2560" class="md-nav__link">
    Atmega2560
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#atmega1280" class="md-nav__link">
    Atmega1280
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#atmega1284p" class="md-nav__link">
    Atmega1284p
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#at90usb1286" class="md-nav__link">
    At90usb1286
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#atmega168" class="md-nav__link">
    Atmega168
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sam3-arduino-due" class="md-nav__link">
    SAM3 微控制器 (Arduino Due)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sam4-duet-wifi" class="md-nav__link">
    SAM4 微控制器 (Duet Wifi)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#samd21arduino-zero" class="md-nav__link">
    SAMD21微控制器（Arduino Zero）
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#samd51-adafruit-metro-m4" class="md-nav__link">
    SAMD51 微控制器(Adafruit Metro-M4及類似的開發板)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stm32f103-blue-pill" class="md-nav__link">
    STM32F103 微控制器（Blue Pill 開發板）
  </a>
  
    <nav class="md-nav" aria-label="STM32F103 微控制器（Blue Pill 開發板）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stm32duino-stm32f103" class="md-nav__link">
    帶有 stm32duino 引導載入程式的 STM32F103
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hid-stm32f103" class="md-nav__link">
    帶有 HID 載入程式的STM32F103
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stm32f103stm32f072-with-msc-bootloader" class="md-nav__link">
    STM32F103/STM32F072 with MSC bootloader
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stm32f103stm32f0x2-with-canboot-bootloader" class="md-nav__link">
    STM32F103/STM32F0x2 with CanBoot bootloader
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stm32f4-skr-pro-11" class="md-nav__link">
    STM32F4 微控制器 (SKR Pro 1.1)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lpc176xsmoothieboards" class="md-nav__link">
    LPC176x微控制器（Smoothieboards）
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#openocd" class="md-nav__link">
    在樹莓派上執行OpenOCD
  </a>
  
    <nav class="md-nav" aria-label="在樹莓派上執行OpenOCD">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#openocd_1" class="md-nav__link">
    配置OpenOCD
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    將樹莓派與目標晶片相連
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#openocd_2" class="md-nav__link">
    執行OpenOCD
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#openocdgdb" class="md-nav__link">
    OpenOCD和gdb
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="CANBUS.html" class="md-nav__link">
        CAN 匯流排
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="TSL1401CL_Filament_Width_Sensor.html" class="md-nav__link">
        TSL1401CL 耗材寬度感測器
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="Hall_Filament_Width_Sensor.html" class="md-nav__link">
        霍爾耗材線徑感測器
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="Sponsors.html" class="md-nav__link">
        贊助商
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目錄">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目錄
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#avr" class="md-nav__link">
    AVR 微控制器
  </a>
  
    <nav class="md-nav" aria-label="AVR 微控制器">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#atmega2560" class="md-nav__link">
    Atmega2560
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#atmega1280" class="md-nav__link">
    Atmega1280
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#atmega1284p" class="md-nav__link">
    Atmega1284p
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#at90usb1286" class="md-nav__link">
    At90usb1286
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#atmega168" class="md-nav__link">
    Atmega168
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sam3-arduino-due" class="md-nav__link">
    SAM3 微控制器 (Arduino Due)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#sam4-duet-wifi" class="md-nav__link">
    SAM4 微控制器 (Duet Wifi)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#samd21arduino-zero" class="md-nav__link">
    SAMD21微控制器（Arduino Zero）
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#samd51-adafruit-metro-m4" class="md-nav__link">
    SAMD51 微控制器(Adafruit Metro-M4及類似的開發板)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stm32f103-blue-pill" class="md-nav__link">
    STM32F103 微控制器（Blue Pill 開發板）
  </a>
  
    <nav class="md-nav" aria-label="STM32F103 微控制器（Blue Pill 開發板）">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#stm32duino-stm32f103" class="md-nav__link">
    帶有 stm32duino 引導載入程式的 STM32F103
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hid-stm32f103" class="md-nav__link">
    帶有 HID 載入程式的STM32F103
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stm32f103stm32f072-with-msc-bootloader" class="md-nav__link">
    STM32F103/STM32F072 with MSC bootloader
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#stm32f103stm32f0x2-with-canboot-bootloader" class="md-nav__link">
    STM32F103/STM32F0x2 with CanBoot bootloader
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#stm32f4-skr-pro-11" class="md-nav__link">
    STM32F4 微控制器 (SKR Pro 1.1)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lpc176xsmoothieboards" class="md-nav__link">
    LPC176x微控制器（Smoothieboards）
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#openocd" class="md-nav__link">
    在樹莓派上執行OpenOCD
  </a>
  
    <nav class="md-nav" aria-label="在樹莓派上執行OpenOCD">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#openocd_1" class="md-nav__link">
    配置OpenOCD
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    將樹莓派與目標晶片相連
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#openocd_2" class="md-nav__link">
    執行OpenOCD
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#openocdgdb" class="md-nav__link">
    OpenOCD和gdb
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
<a href="https://github.com/Klipper3d/klipper/blob/master/docs/Bootloaders.md" title="編輯此頁" class="md-content__button md-icon">
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
</a>


<h1 id="_1">底層載入程式<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h1>
<p>本文件介紹Klipper支援的用於微控制器的底層載入程式（bootloader）。</p>
<p>載入程式是第三方軟體，在微控制器上電后優先執行。該程式可以在不需要特殊硬體（如燒錄器）下對微控制器的程式進行刷寫（如寫入Klipper程式）。然而，目前還沒有一刷寫微控制器的工業標準，也沒有一個適用於所有微控制器的標準載入程式。更麻煩的是，每種引導載入程式需要不同的步驟以觸發刷寫功能。</p>
<p>如果能用某種方式將 bootloader 刷寫到微控制器，使用該方式通常也能完成程式刷寫操作，但是，這種直接刷寫可能會將 bootloader 覆蓋掉。相對地，bootloader 只允許使用者刷寫應用程式區域。因此，儘可能使用 bootloader 完成程式的刷寫。</p>
<p>該文件將盡可能介紹常見的bootloaders，刷入bootloader所需的步驟和觸發bootloader進行程式刷寫的流程。該文件亦非官方指引，這只是在Klipper開發人員使用過程中收集到的有用資訊。</p>
<h2 id="avr">AVR 微控制器<a class="headerlink" href="#avr" title="Permanent link">&para;</a></h2>
<p>總體上來說，Arduino專案是8位Atmel Atmega微控制器的載入程式和刷寫程式的好的參考。特別是" boards.txt "檔案。<a href="https://github.com/arduino/Arduino/blob/1.8.5/hardware/arduino/avr/boards.txt">https://github.com/arduino/Arduino/blob/1.8.5/hardware/arduino/avr/boards.txt</a>是一個有用的參考。</p>
<p>要刷寫載入程式本身，AVR 晶片需要一個外部硬體刷寫工具（它使用 SPI 與晶片進行通訊）。這個工具可以購買（例如，在網上搜索 "avr isp"、"arduino isp "或 "usb tiny isp"）。也可以使用另一個Arduino或Raspberry Pi來快閃記憶體AVR載入程式（例如，在網上搜索 "用raspberry pi程式設計AVR"）。下面的例子是在假設使用 "AVR ISP Mk2 "型別的裝置的情況下編寫的。</p>
<p>"avrdude "程式是最常用的工具，用於刷寫atmega晶片（包括載入程式刷寫和應用程式刷寫）。</p>
<h3 id="atmega2560">Atmega2560<a class="headerlink" href="#atmega2560" title="Permanent link">&para;</a></h3>
<p>這個晶片通常出現在 "Arduino Mega" 中，在3D印表機主板中也十分普遍。</p>
<p>要刷寫載入程式本身，請使用類似以下的方法：</p>
<div class="highlight"><pre><span></span><code>wget &#39;https://github.com/arduino/Arduino/raw/1.8.5/hardware/arduino/avr/bootloaders/stk500v2/stk500boot_v2_mega2560.hex&#39;

avrdude -cavrispv2 -patmega2560 -P/dev/ttyACM0 -b115200 -e -u -U lock:w:0x3F:m -U efuse:w:0xFD:m -U hfuse:w:0xD8:m -U lfuse:w:0xFF:m
avrdude -cavrispv2 -patmega2560 -P/dev/ttyACM0 -b115200 -U flash:w:stk500boot_v2_mega2560.hex
avrdude -cavrispv2 -patmega2560 -P/dev/ttyACM0 -b115200 -U lock:w:0x0F:m
</code></pre></div>

<p>要刷寫一個應用程式使用：</p>
<div class="highlight"><pre><span></span><code>avrdude -cwiring -patmega2560 -P/dev/ttyACM0 -b115200 -D -Uflash:w:out/klipper.elf.hex:i
</code></pre></div>

<h3 id="atmega1280">Atmega1280<a class="headerlink" href="#atmega1280" title="Permanent link">&para;</a></h3>
<p>這個晶片通常出現在早期版本的 "Arduino Mega "中。</p>
<p>要刷寫載入程式本身，請使用類似以下的方法：</p>
<div class="highlight"><pre><span></span><code>wget &#39;https://github.com/arduino/Arduino/raw/1.8.5/hardware/arduino/avr/bootloaders/atmega/ATmegaBOOT_168_atmega1280.hex&#39;

avrdude -cavrispv2 -patmega1280 -P/dev/ttyACM0 -b115200 -e -u -U lock:w:0x3F:m -U efuse:w:0xF5:m -U hfuse:w:0xDA:m -U lfuse:w:0xFF:m
avrdude -cavrispv2 -patmega1280 -P/dev/ttyACM0 -b115200 -U flash:w:ATmegaBOOT_168_atmega1280.hex
avrdude -cavrispv2 -patmega1280 -P/dev/ttyACM0 -b115200 -U lock:w:0x0F:m
</code></pre></div>

<p>要刷寫一個應用程式使用：</p>
<div class="highlight"><pre><span></span><code>avrdude -carduino -patmega1280 -P/dev/ttyACM0 -b57600 -D -Uflash:w:out/klipper.elf.hex:i
</code></pre></div>

<h3 id="atmega1284p">Atmega1284p<a class="headerlink" href="#atmega1284p" title="Permanent link">&para;</a></h3>
<p>這種晶片通常出現在 "Melzi "式的3D印表機主板上。</p>
<p>要刷寫載入程式本身，請使用類似以下的方法：</p>
<div class="highlight"><pre><span></span><code>wget &#39;https://github.com/Lauszus/Sanguino/raw/1.0.2/bootloaders/optiboot/optiboot_atmega1284p.hex&#39;

avrdude -cavrispv2 -patmega1284p -P/dev/ttyACM0 -b115200 -e -u -U lock:w:0x3F:m -U efuse:w:0xFD:m -U hfuse:w:0xDE:m -U lfuse:w:0xFF:m
avrdude -cavrispv2 -patmega1284p -P/dev/ttyACM0 -b115200 -U flash:w:optiboot_atmega1284p.hex
avrdude -cavrispv2 -patmega1284p -P/dev/ttyACM0 -b115200 -U lock:w:0x0F:m
</code></pre></div>

<p>要刷寫一個應用程式使用：</p>
<div class="highlight"><pre><span></span><code>avrdude -carduino -patmega1284p -P/dev/ttyACM0 -b115200 -D -Uflash:w:out/klipper.elf.hex:i
</code></pre></div>

<p>注意，一些 "Melzi "風格的板子預載了一個使用57600波特率的載入程式。在這種情況下，要刷寫一個應用程式，請使用類似這樣的東西來代替：</p>
<div class="highlight"><pre><span></span><code>avrdude -carduino -patmega1284p -P/dev/ttyACM0 -b57600 -D -Uflash:w:out/klipper.elf.hex:i
</code></pre></div>

<h3 id="at90usb1286">At90usb1286<a class="headerlink" href="#at90usb1286" title="Permanent link">&para;</a></h3>
<p>本檔案不包括向At90usb1286刷寫載入程式的方法，也不包括向該裝置刷寫一般應用。</p>
<p>來自pjrc.com的Teensy++裝置帶有一個專用的載入程式。它需要一個來自<a href="https://github.com/PaulStoffregen/teensy_loader_cli">https://github.com/PaulStoffregen/teensy_loader_cli</a>的定製刷寫工具。可以用這個工具來刷寫一個應用程式，例如：</p>
<div class="highlight"><pre><span></span><code>teensy_loader_cli --mcu=at90usb1286 out/klipper.elf.hex -v
</code></pre></div>

<h3 id="atmega168">Atmega168<a class="headerlink" href="#atmega168" title="Permanent link">&para;</a></h3>
<p>atmega168的快閃記憶體空間有限。如果使用載入程式，建議使用Optiboot bootloader。要刷寫該載入程式，請使用這個的方法：</p>
<div class="highlight"><pre><span></span><code>wget &#39;https://github.com/arduino/Arduino/raw/1.8.5/hardware/arduino/avr/bootloaders/optiboot/optiboot_atmega168.hex&#39;

avrdude -cavrispv2 -patmega168 -P/dev/ttyACM0 -b115200 -e -u -U lock:w:0x3F:m -U efuse:w:0x04:m -U hfuse:w:0xDD:m -U lfuse:w:0xFF:m
avrdude -cavrispv2 -patmega168 -P/dev/ttyACM0 -b115200 -U flash:w:optiboot_atmega168.hex
avrdude -cavrispv2 -patmega168 -P/dev/ttyACM0 -b115200 -U lock:w:0x0F:m
</code></pre></div>

<p>要通過Optiboot bootloader 刷寫一個應用程式，請使用以下方法：</p>
<div class="highlight"><pre><span></span><code>avrdude -carduino -patmega168 -P/dev/ttyACM0 -b115200 -D -Uflash:w:out/klipper.elf.hex:i
</code></pre></div>

<h2 id="sam3-arduino-due">SAM3 微控制器 (Arduino Due)<a class="headerlink" href="#sam3-arduino-due" title="Permanent link">&para;</a></h2>
<p>通常在 SAM 3 微控制器上不使用載入程式。晶片自帶一個允許從3.3V 串列埠或從USB進行程式設計的ROM。</p>
<p>爲了啟用ROM，將"erase"引腳在復位過程中保持高電平，這將擦除快閃記憶體的內容，並使ROM執行。在Arduino Due上，這個程式可以通過在 "programming usb port"（程式設計USB口，最靠近電源的USB埠）上設定1200的波特率來完成。</p>
<p><a href="https://github.com/shumatech/BOSSA">https://github.com/shumatech/BOSSA</a>中的程式碼可以用來為SAM3程式設計。建議使用1.9或更高版本。</p>
<p>要刷寫一個應用程式使用：</p>
<div class="highlight"><pre><span></span><code>bossac -U -p /dev/ttyACM0 -a -e -w out/klipper.bin -v -b
bossac -U -p /dev/ttyACM0 -R
</code></pre></div>

<h2 id="sam4-duet-wifi">SAM4 微控制器 (Duet Wifi)<a class="headerlink" href="#sam4-duet-wifi" title="Permanent link">&para;</a></h2>
<p>通常在 SAM4 微控制器中不使用載入程式。晶片自帶一個可以從 3.3V 串列埠或 USB 進行程式設計的ROM。</p>
<p>爲了啟用ROM，在復位過程中要將"erase"引腳保持為高電平，這將擦除快閃記憶體內容，並使ROM執行。</p>
<p><a href="https://github.com/shumatech/BOSSA">https://github.com/shumatech/BOSSA</a>中的程式碼可以用來為SAM4程式設計。需要使用<code>1.8.0</code>或更高的版本。</p>
<p>要刷寫一個應用程式使用：</p>
<div class="highlight"><pre><span></span><code>bossac --port=/dev/ttyACM0 -b -U -e -w -v -R out/klipper.bin
</code></pre></div>

<h2 id="samd21arduino-zero">SAMD21微控制器（Arduino Zero）<a class="headerlink" href="#samd21arduino-zero" title="Permanent link">&para;</a></h2>
<p>SAMD21 引導載入程式通過 ARM 序列線除錯 （SWD） 介面進行刷寫，通常需要一個專用的 SWD 硬體轉換器或者使用<a href="#running-openocd-on-the-raspberry-pi">安裝了 OpenOCD 的 Raspberry Pi</a>來完成。</p>
<p>要使用 OpenOCD 刷寫引導載入程式，請使用以下晶片配置：</p>
<div class="highlight"><pre><span></span><code>來源 [查詢目標/at91samdXX.cfg]
</code></pre></div>

<p>獲取引導載入程式 - 例如：</p>
<div class="highlight"><pre><span></span><code>wget &#39;https://github.com/arduino/ArduinoCore-samd/raw/1.8.3/bootloaders/zero/samd21_sam_ba.bin&#39;
</code></pre></div>

<p>使用類似下面的 OpenOCD 命令來刷寫：</p>
<div class="highlight"><pre><span></span><code>at91samd bootloader 0
program samd21_sam_ba.bin verify
</code></pre></div>

<p>SAMD21上最常見的啟動載入程式可以在 "Arduino Zero "上找到。它使用一個 8KiB 的載入程式（應用程式必須以 8KiB 的起始地址進行編譯），按下復位按鈕兩次就可以進入。要刷寫一個程式，請使用類似以下的方法：</p>
<div class="highlight"><pre><span></span><code>bossac -U -p /dev/ttyACM0 --offset=0x2000 -w out/klipper.bin -v -b -R
</code></pre></div>

<p>相比之下，"Arduino M0 "使用一個 16KiB 的啟動載入程式（程式必須用 16KiB 的起始地址進行編譯）。使用這個啟動載入程式來刷寫一個程式，請重置微控制器，並在啟動的頭幾秒鐘內執行刷寫命令--類似如下命令：</p>
<div class="highlight"><pre><span></span><code>avrdude -c stk500v2 -p atmega2560 -P /dev/ttyACM0 -u -Uflash:w:out/klipper.elf.hex:i
</code></pre></div>

<h2 id="samd51-adafruit-metro-m4">SAMD51 微控制器(Adafruit Metro-M4及類似的開發板)<a class="headerlink" href="#samd51-adafruit-metro-m4" title="Permanent link">&para;</a></h2>
<p>和 SAMD21 一樣，SAMD51 的啟動載入程式也是通過 ARM 序列線除錯（SWD）介面刷寫的。要用<a href="#running-openocd-on-the-raspberry-pi">執行 OpenOCD的 Raspberry Pi</a>刷寫載入程式，請使用以下晶片配置：</p>
<div class="highlight"><pre><span></span><code>來源 [查詢目標/atsame5x.cfg]
</code></pre></div>

<p>獲得一個載入程式--很多載入程式可以從<a href="https://github.com/adafruit/uf2-samdx1/releases/latest">https://github.com/adafruit/uf2-samdx1/releases/latest</a>獲得。例如：</p>
<div class="highlight"><pre><span></span><code>wget &#39;https://github.com/adafruit/uf2-samdx1/releases/download/v3.7.0/bootloader-itsybitsy_m4-v3.7.0.bin&#39;
</code></pre></div>

<p>使用類似下面的 OpenOCD 命令來刷寫：</p>
<div class="highlight"><pre><span></span><code>at91samd bootloader 0
program bootloader-itsybitsy_m4-v3.7.0.bin verify
at91samd bootloader 16384
</code></pre></div>

<p>SAMD51 使用 16KiB 的啟動載入程式（應用程式必須以16KiB的起始地址進行編譯）。要刷寫一個應用程式，請使用類似以下的方法：</p>
<div class="highlight"><pre><span></span><code>bossac -U -p /dev/ttyACM0 --offset=0x4000 -w out/klipper.bin -v -b -R
</code></pre></div>

<h2 id="stm32f103-blue-pill">STM32F103 微控制器（Blue Pill 開發板）<a class="headerlink" href="#stm32f103-blue-pill" title="Permanent link">&para;</a></h2>
<p>The STM32F103 devices have a ROM that can flash a bootloader or application via 3.3V serial. Typically one would wire the PA10 (MCU Rx) and PA9 (MCU Tx) pins to a 3.3V UART adapter. To access the ROM, one should connect the "boot 0" pin to high and "boot 1" pin to low, and then reset the device. The "stm32flash" package can then be used to flash the device using something like:</p>
<div class="highlight"><pre><span></span><code>stm32flash -w out/klipper.bin -v -g 0 /dev/ttyAMA0
</code></pre></div>

<p>注意，如果使用樹莓派的3.3V串列埠，stm32flash協議使用的序列奇偶校驗模式，樹莓派的 "mini UART "並不支援。關於在樹莓派的GPIO引腳上啟用完整的UART的細節，見<a href="https://www.raspberrypi.com/documentation/computers/configuration.html#configuring-uarts">https://www.raspberrypi.com/documentation/computers/configuration.html#configuring-uarts</a>。</p>
<p>刷寫后，將 "boot 0 "和 "boot 1 "都恢復設為低電平，以便在復位后從快閃記憶體啟動。</p>
<h3 id="stm32duino-stm32f103">帶有 stm32duino 引導載入程式的 STM32F103<a class="headerlink" href="#stm32duino-stm32f103" title="Permanent link">&para;</a></h3>
<p>"stm32duino "專案有一個USB功能的載入程式-參見：<a href="https://github.com/rogerclarkmelbourne/STM32duino-bootloader">https://github.com/rogerclarkmelbourne/STM32duino-bootloader</a></p>
<p>這個載入程式可以通過3.3V的串列埠用類似以下的命令來刷寫：</p>
<div class="highlight"><pre><span></span><code>wget &#39;https://github.com/rogerclarkmelbourne/STM32duino-bootloader/raw/master/binaries/generic_boot20_pc13.bin&#39;

stm32flash -w generic_boot20_pc13.bin -v -g 0 /dev/ttyAMA0
</code></pre></div>

<p>這個載入程式使用 8KiB 的快閃記憶體空間（應用程式必須以 8KiB 的起始地址編譯）。刷寫應用程式需要使用類似以下的命令：</p>
<div class="highlight"><pre><span></span><code>dfu-util -d 1eaf:0003 -a 2 -R -D out/klipper.bin
</code></pre></div>

<p>啟動載入程式通常只在啟動后的一小段時間執行。在輸入以上命令的時候，需要確保啟動載入程式還在執行（啟動載入程式執行的時候會控制板上的led閃爍）。此外，啟動后如果設定「boot 0」引腳為低，設定「boot 1」引腳為高則可以一直停留在啟動載入程式。</p>
<h3 id="hid-stm32f103">帶有 HID 載入程式的STM32F103<a class="headerlink" href="#hid-stm32f103" title="Permanent link">&para;</a></h3>
<p><a href="https://github.com/Serasidis/STM32_HID_Bootloader">HID bootloader</a>是一個緊湊的、不包含驅動的啟動載入程式，能夠通過USB進行刷寫。此外，還有一個<a href="https://github.com/Arksine/STM32_HID_Bootloader/releases/latest">針對SKR Mini E3 1.2構建的分支</a>。</p>
<p>對於常見的STM32F103板，如Blue Pill，和 stm32duino 章節中一樣，可以通過 3.3v 序列用stm32flash 刷寫啟動載入程式，將檔名替換為所需的 hid載入程式二進制檔案（例如Blue Pill 使用的 hid_generic_pc13.bin）。</p>
<p>SKR Mini E3無法使用stm32flash ，因為boot 0引腳被直接接到GND且沒有跳線斷開。推薦使用STLink V2通過STM32Cubeprogrammer刷寫啟動載入程式。如果你沒有STLink ，也可以按照以下晶片配置使用<a href="#running-openocd-on-the-raspberry-pi">樹莓派和OpenOCD</a> 刷寫：</p>
<div class="highlight"><pre><span></span><code>來源 [查詢目標/stm32f1x.cfg]
</code></pre></div>

<p>如果你願意，可以使用下面的命令備份目前快閃記憶體上的程式。請注意，這可能需要一些時間來完成備份：</p>
<div class="highlight"><pre><span></span><code>flash read_bank 0 btt_skr_mini_e3_backup.bin
</code></pre></div>

<p>最後，你可以用類似以下的命令刷寫韌體：</p>
<div class="highlight"><pre><span></span><code>stm32f1x mass_erase 0
program hid_btt_skr_mini_e3.bin verify 0x08000000
</code></pre></div>

<p>注意：</p>
<ul>
<li>上面的例子是先擦除晶片，然後再寫入載入程式。無論選擇哪種方法刷寫，都建議在刷寫前擦除晶片。</li>
<li>在用這個載入程式刷寫SKR Mini E3之前，你需要知道之後你將不能再通過SD卡更新韌體。</li>
<li>You may need to hold down the reset button on the board while launching OpenOCD. It should display something like:
   <code>Open On-Chip Debugger 0.10.0+dev-01204-gc60252ac-dirty (2020-04-27-16:00)
Licensed under GNU GPL v2
For bug reports, read
        http://openocd.org/doc/doxygen/bugs.html
DEPRECATED! use 'adapter speed' not 'adapter_khz'
Info : BCM2835 GPIO JTAG/SWD bitbang driver
Info : JTAG and SWD modes enabled
Info : clock speed 40 kHz
Info : SWD DPIDR 0x1ba01477
Info : stm32f1x.cpu: hardware has 6 breakpoints, 4 watchpoints
Info : stm32f1x.cpu: external reset detected
Info : starting gdb server for stm32f1x.cpu on 3333
Info : Listening on port 3333 for gdb connections</code>
之後可以鬆開復位按鈕。</li>
</ul>
<p>這個載入程式需要2KiB的快閃記憶體空間（應用程式必須以2KiB的起始地址進行編譯）。</p>
<p>hid-flash程式是用來上傳二進制檔案到啟動載入程式的。你可以用以下命令安裝這個軟體：</p>
<div class="highlight"><pre><span></span><code>sudo apt install libusb-1.0
cd ~/klipper/lib/hidflash
make
</code></pre></div>

<p>如果bootloader正在執行，你可以用這個來刷寫：</p>
<div class="highlight"><pre><span></span><code>~/klipper/lib/hidflash/hid-flash ~/klipper/out/klipper.bin
</code></pre></div>

<p>或者，你可以使用<code>make flash</code>來直接刷寫klipper：</p>
<div class="highlight"><pre><span></span><code>make flash FLASH_DEVICE=1209:BEBA
</code></pre></div>

<p>或者，如果klipper之前已經被寫入過：</p>
<div class="highlight"><pre><span></span><code>make flash FLASH_DEVICE=/dev/ttyACM0
</code></pre></div>

<p>可能需要手動進入載入程式，這可以通過設定 "boot 0 "的低電平和 "boot 1 "的高電平來完成。在SKR Mini E3上，"Boot 1 "是不可用的，所以如果你寫入過"hid_btt_skr_mini_e3.bin"，可以通過設定PA2的低電平來完成。在SKR Mini E3的 "PIN "檔案中，這個引腳在TFT插座上被標記為 "TX0"。在PA2旁邊有一個接地引腳，你可以用它來把PA2拉低。</p>
<h3 id="stm32f103stm32f072-with-msc-bootloader">STM32F103/STM32F072 with MSC bootloader<a class="headerlink" href="#stm32f103stm32f072-with-msc-bootloader" title="Permanent link">&para;</a></h3>
<p>The <a href="https://github.com/Telekatz/MSC-stm32f103-bootloader">MSC bootloader</a> is a driverless bootloader capable of flashing over USB.</p>
<p>It is possible to flash the bootloader via 3.3v serial using stm32flash as noted in the stm32duino section above, substituting the file name for the desired MSC bootloader binary (ie: MSCboot-Bluepill.bin for the blue pill).</p>
<p>For STM32F072 boards it is also possible to flash the bootloader over USB (via DFU) with something like:</p>
<div class="highlight"><pre><span></span><code> dfu-util -d 0483:df11 -a 0 -R -D  MSCboot-STM32F072.bin -s0x08000000:leave
</code></pre></div>

<p>This bootloader uses 8KiB or 16KiB of flash space, see description of the bootloader (the application must be compiled with with the corresponding starting address).</p>
<p>The bootloader can be activated by pressing the reset button of the board twice. As soon as the bootloader is activated, the board appears as a USB flash drive onto which the klipper.bin file can be copied.</p>
<h3 id="stm32f103stm32f0x2-with-canboot-bootloader">STM32F103/STM32F0x2 with CanBoot bootloader<a class="headerlink" href="#stm32f103stm32f0x2-with-canboot-bootloader" title="Permanent link">&para;</a></h3>
<p>The <a href="https://github.com/Arksine/CanBoot">CanBoot</a> bootloader provides an option for uploading Klipper firmware over the CANBUS. The bootloader itself is derived from Klipper's source code. Currently CanBoot supports the STM32F103, STM32F042, and STM32F072 models.</p>
<p>It is recommended to use a ST-Link Programmer to flash CanBoot, however it should be possible to flash using <code>stm32flash</code> on STM32F103 devices, and <code>dfu-util</code> on STM32F042/STM32F072 devices. See the previous sections in this document for instructions on these flashing methods, substituting <code>canboot.bin</code> for the file name where appropriate. The CanBoot repo linked above provides instructions for building the bootloader.</p>
<p>The first time CanBoot has been flashed it should detect that no application is present and enter the bootloader. If this doesn't occur it is possible to enter the bootloader by pressing the reset button twice in succession.</p>
<p>The <code>flash_can.py</code> utility supplied in the <code>lib/canboot</code> folder may be used to upload Klipper firmware. The device UUID is necessary to flash. If you do not have a UUID it is possible to query nodes currently running the bootloader:</p>
<div class="highlight"><pre><span></span><code>python3 flash_can.py -q
</code></pre></div>

<p>This will return UUIDs for all connected nodes not currently assigned a UUID. This should include all nodes currently in the bootloader.</p>
<p>Once you have a UUID, you may upload firmware with following command:</p>
<div class="highlight"><pre><span></span><code>python3 flash_can.py -i can0 -f ~/klipper/out/klipper.bin -u aabbccddeeff
</code></pre></div>

<p>Where <code>aabbccddeeff</code> is replaced by your UUID. Note that the <code>-i</code> and <code>-f</code> options may be omitted, they default to <code>can0</code> and <code>~/klipper/out/klipper.bin</code> respectively.</p>
<p>When building Klipper for use with CanBoot, select the 8 KiB Bootloader option.</p>
<h2 id="stm32f4-skr-pro-11">STM32F4 微控制器 (SKR Pro 1.1)<a class="headerlink" href="#stm32f4-skr-pro-11" title="Permanent link">&para;</a></h2>
<p>STM32F4微控制器配備了一個內建的系統載入程式，能夠通過USB（通過DFU）、3.3v串列埠和其他各種方法進行刷寫（更多資訊見STM檔案AN2606）。一些STM32F4板，如SKR Pro 1.1，不能進入DFU載入程式。基於STM32F405/407的板子可以使用HID載入程式，如果使用者願意通過USB刷寫而不是使用SD卡。請注意，你可能需針對你的板子配置和構建一個特定的版本，<a href="https://github.com/Arksine/STM32_HID_Bootloader/releases/latest">針對SKR Pro 1.1的構建可以在這裡找到</a>。</p>
<p>除非你的板子有DFU功能，否則最容易的寫入方法可能是通過3.3v的串列埠，這與<a href="#stm32f103-micro-controllers-blue-pill-devices">使用stm32flash刷寫STM32F103</a>的步驟相同。例如：</p>
<div class="highlight"><pre><span></span><code>wget https://github.com/Arksine/STM32_HID_Bootloader/releases/download/v0.5-beta/hid_bootloader_SKR_PRO.bin

stm32flash -w hid_bootloader_SKR_PRO.bin -v -g 0 /dev/ttyAMA0
</code></pre></div>

<p>這個載入程式在STM32F4上需要16Kib的快閃記憶體空間（應用程式必須以16KiB的起始地址進行編譯）。</p>
<p>與STM32F1一樣，STM32F4使用hid-flash工具來上傳二進制檔案到MCU。關於如何構建和使用hid-flash的細節，請參見上面的說明。</p>
<p>可能需要手動進入載入程式，這可以通過設定 "boot 0 "為低電平，"boot 1 "為高電平並上電來完成。程式設計完成後，裝置斷電，將 "boot 1 "重設為低電平，這樣應用程式就會被載入。</p>
<h2 id="lpc176xsmoothieboards">LPC176x微控制器（Smoothieboards）<a class="headerlink" href="#lpc176xsmoothieboards" title="Permanent link">&para;</a></h2>
<p>本檔案沒有描述刷寫載入程式本身的方法--見：<a href="http://smoothieware.org/flashing-the-bootloader">http://smoothieware.org/flashing-the-bootloader</a>以獲得關於該主題的進一步資訊。</p>
<p>Smoothieboards通常帶有一個來自<a href="https://github.com/triffid/LPC17xx-DFU-Bootloader">https://github.com/triffid/LPC17xx-DFU-Bootloader</a>的bootloader。當使用這個載入程式時，應用程式必須以16KiB的起始地址進行編譯。用這個載入程式刷寫應用程式的最簡單方法是將應用程式檔案（例如<code>out/klipper.bin</code>）複製到SD卡上一個名為<code>firmware.bin</code>的檔案，然後用該SD卡重新啟動微控制器。</p>
<h2 id="openocd">在樹莓派上執行OpenOCD<a class="headerlink" href="#openocd" title="Permanent link">&para;</a></h2>
<p>OpenOCD是一個軟體包，可以進行底層的晶片程式設計和除錯。它可以使用樹莓派上的GPIO引腳與各種ARM晶片通訊。</p>
<p>本節描述瞭如何安裝和啟動OpenOCD。它來自於以下的說明：<a href="https://learn.adafruit.com/programming-microcontrollers-using-openocd-on-raspberry-pi">https://learn.adafruit.com/programming-microcontrollers-using-openocd-on-raspberry-pi</a></p>
<p>開始下載和編譯軟體（每個步驟可能需要數分鐘，"make "步驟可能需要30分鐘以上）：</p>
<div class="highlight"><pre><span></span><code>sudo apt-get update
sudo apt-get install autoconf libtool telnet
mkdir ~/openocd
cd ~/openocd/
git clone http://openocd.zylin.com/openocd
cd openocd
./bootstrap
./configure --enable-sysfsgpio --enable-bcm2835gpio --prefix=/home/pi/openocd/install
make
make install
</code></pre></div>

<h3 id="openocd_1">配置OpenOCD<a class="headerlink" href="#openocd_1" title="Permanent link">&para;</a></h3>
<p>建立一個OpenOCD配置檔案：</p>
<div class="highlight"><pre><span></span><code>nano ~/openocd/openocd.cfg
</code></pre></div>

<p>使用類似於以下的配置：</p>
<div class="highlight"><pre><span></span><code># Uses RPi pins: GPIO25 for SWDCLK, GPIO24 for SWDIO, GPIO18 for nRST
source [find interface/raspberrypi2-native.cfg]
bcm2835gpio_swd_nums 25 24
bcm2835gpio_srst_num 18
transport select swd

# Use hardware reset wire for chip resets
reset_config srst_only
adapter_nsrst_delay 100
adapter_nsrst_assert_width 100

# Specify the chip type
source [find target/atsame5x.cfg]

# Set the adapter speed
adapter_khz 40

# Connect to chip
init
targets
reset halt
</code></pre></div>

<h3 id="_2">將樹莓派與目標晶片相連<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h3>
<p>在接線之前，請關閉樹莓派和目標晶片的電源! 在連線到樹莓派之前，請確認目標晶片使用3.3V電壓!</p>
<p>將目標晶片上的GND、SWDCLK、SWDIO和RST分別連線到樹莓派上的GND、GPIO25、GPIO24和GPIO18。</p>
<p>然後給樹莓派上電，再給目標晶片供電。</p>
<h3 id="openocd_2">執行OpenOCD<a class="headerlink" href="#openocd_2" title="Permanent link">&para;</a></h3>
<p>執行OpenOCD：</p>
<div class="highlight"><pre><span></span><code>cd ~/openocd/
sudo ~/openocd/install/bin/openocd -f ~/openocd/openocd.cfg
</code></pre></div>

<p>上述操作應該使OpenOCD輸出一些文字資訊，然後等待（它不會立即返回到Unix shell提示符）。如果OpenOCD自己退出或繼續輸出文字資訊，那麼請仔細檢查接線。</p>
<p>一旦OpenOCD執行穩定，就可以通過telnet向它發送命令。打開另一個ssh會話，執行下面的命令：</p>
<div class="highlight"><pre><span></span><code>telnet 127.0.0.1 4444
</code></pre></div>

<p>(可以按ctrl+]退出telnet，然後執行 "quit "命令。)</p>
<h3 id="openocdgdb">OpenOCD和gdb<a class="headerlink" href="#openocdgdb" title="Permanent link">&para;</a></h3>
<p>可以使用OpenOCD和gdb來除錯Klipper。下面的命令假設是在臺式機上執行gdb。</p>
<p>在OpenOCD的配置檔案中加入以下內容：</p>
<div class="highlight"><pre><span></span><code>bindto 0.0.0.0
gdb_port 44444
</code></pre></div>

<p>在樹莓派上重新啟動OpenOCD，然後在臺式機上執行以下Unix命令：</p>
<div class="highlight"><pre><span></span><code>cd /path/to/klipper/
gdb out/klipper.elf
</code></pre></div>

<p>在gdb中執行：</p>
<div class="highlight"><pre><span></span><code>target remote octopi:44444
</code></pre></div>

<p>(用樹莓派的主機名替換 "octopi"）一旦gdb執行，就可以設定斷點並檢查暫存器。</p>

              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="Beaglebone.html" class="md-footer__link md-footer__link--prev" aria-label="上一頁: Beaglebone" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                上一頁
              </span>
              Beaglebone
            </div>
          </div>
        </a>
      
      
        
        <a href="CANBUS.html" class="md-footer__link md-footer__link--next" aria-label="下一頁: CAN 匯流排" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                下一頁
              </span>
              CAN 匯流排
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": ".", "features": ["navigation.top", "search.suggest", "search.highlight", "search.share"], "translations": {"clipboard.copy": "\u62f7\u8c9d", "clipboard.copied": "\u5df2\u62f7\u8c9d", "search.config.lang": "ja", "search.config.pipeline": "trimmer, stemmer", "search.config.separator": "[\\uff0c\\u3002]+", "search.placeholder": "\u641c\u5c0b", "search.result.placeholder": "\u9375\u5165\u4ee5\u958b\u59cb\u6aa2\u7d22", "search.result.none": "\u6c92\u6709\u627e\u5230\u7b26\u5408\u689d\u4ef6\u7684\u7d50\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u689d\u4ef6\u7684\u7d50\u679c", "search.result.other": "# \u500b\u7b26\u5408\u689d\u4ef6\u7684\u7d50\u679c", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "assets/javascripts/workers/search.0bbba5b5.min.js"}</script>
    
    
      <script src="assets/javascripts/bundle.e1a181d9.min.js"></script>
      
    
  </body>
</html>